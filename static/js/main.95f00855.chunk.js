(this["webpackJsonpreact-weather-forecast"]=this["webpackJsonpreact-weather-forecast"]||[]).push([[0],{44:function(t,n,e){},45:function(t,n,e){},47:function(t,n,e){},50:function(t,n,e){},51:function(t,n,e){},53:function(t,n,e){},54:function(t,n,e){},55:function(t,n,e){"use strict";e.r(n);var c=e(0),a=e.n(c),o=e(17),r=e.n(o),i=(e(44),e(45),e(9)),s=e.n(i),u=e(18),l=e(22),f=(e(47),e(3)),d=function(t){var n=t.iconId,e="owi owi-".concat(n);return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("span",{className:e})})},j=e(26),p=e(19),b=(e(50),e(51),e(59)),h=e(60),v=function(t){var n=t.setLocation,e=t.setValue;function c(t){return a.apply(this,arguments)}function a(){return(a=Object(u.a)(s.a.mark((function t(c){var a,o,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[c.coords.latitude,c.coords.longitude],o=a[0],r=a[1],t.next=3,Object(p.b)({lat:o,lng:r}).then((function(t){return t.filter((function(t){return"postal_code"===t.types[0]}))})).then((function(t){return t[0].formatted_address.split(", ")})).then((function(t){return"".concat(t[0],", ").concat(t[1])}));case 3:t.sent,n({lat:o,lng:r}),e("Current Location");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return navigator.geolocation?Object(f.jsx)(b.a,{size:"middle",className:"location-btn",shape:"circle",icon:Object(f.jsx)(h.a,{}),onClick:function(){navigator.geolocation.getCurrentPosition(c)}}):null},O=function(t){var n=t.setLocation,e=Object(c.useState)("Location"),a=Object(l.a)(e,2),o=a[0],r=a[1],i=function(){var t=Object(u.a)(s.a.mark((function t(e){var c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,Object(p.c)(e.value.place_id).then((function(t){return Object(p.d)(t[0])})).then((function(t){var e=t.lat,c=t.lng;return n({lat:e,lng:c})}));case 3:c=e.value.terms[1]?"".concat(e.value.terms[0].value,", ").concat(e.value.terms[1].value):"".concat(e.value.terms[0].value),r(c);case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d={placeholder:o,noOptionsMessage:function(){return"No Results Found"},components:{IndicatorSeparator:function(){return null},DropdownIndicator:function(){return null}},styles:{style:{input:function(t){return Object(j.a)(Object(j.a)({},t),{},{width:"75%"})}}},className:"location-select-input",classNamePrefix:"location-select-input",label:o,value:o,onSelect:i,onChange:i};return Object(f.jsxs)("div",{className:"location-container",children:[Object(f.jsx)(p.a,{apiKey:"AIzaSyCN72ZHM9j72VKxjk5i-9_AZXS9JqkKWok",debounce:1500,selectProps:Object(j.a)({},d)}),Object(f.jsx)(v,{setValue:r,setLocation:n})]})},g=(e(53),function(t){t.location;var n=t.setLocation,e=t.apiData,c="It is currently ".concat(null===e||void 0===e?void 0:e.weather[0].main," in ").concat(null===e||void 0===e?void 0:e.name);return Object(f.jsxs)("div",{className:"left-pane-container",children:[Object(f.jsx)(O,{setLocation:n}),e?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(d,{iconId:null===e||void 0===e?void 0:e.weather[0].icon}),Object(f.jsx)("span",{children:c})]}):""]})}),x=(e(54),function(){var t=Object(c.useState)({lat:0,lng:0}),n=Object(l.a)(t,2),e=n[0],a=n[1],o=Object(c.useState)(),r=Object(l.a)(o,2),i=r[0],d=r[1],j="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lat.toPrecision(4),"&lon=").concat(e.lng.toPrecision(4),"&appid=").concat("2cda4c5eeb60fc8981e9c378d9d83cdd"),p=function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lat&&!e.lng){t.next=3;break}return t.next=3,fetch(j).then((function(t){return t.ok||console.log("Did not get an ok. got: ".concat(t.statusText)),t.json()})).then((function(t){return d(t)})).catch((function(t){console.log("Error getting weather data: ".concat(t.message))}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){p()}),[j]),Object(f.jsx)("div",{className:"weather-forecast-container",children:Object(f.jsx)(g,{apiData:i,location:e,setLocation:a})})});var m=function(){return Object(f.jsx)("div",{className:"app-container",children:Object(f.jsx)(x,{})})},w=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,61)).then((function(n){var e=n.getCLS,c=n.getFID,a=n.getFCP,o=n.getLCP,r=n.getTTFB;e(t),c(t),a(t),o(t),r(t)}))};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(m,{})}),document.getElementById("root")),w()}},[[55,1,2]]]);
//# sourceMappingURL=main.95f00855.chunk.js.map