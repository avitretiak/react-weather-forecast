(this["webpackJsonpreact-weather-forecast"]=this["webpackJsonpreact-weather-forecast"]||[]).push([[0],{22:function(e,t,n){e.exports={blue:"#addeff",strongBlue:"#3d96e9",white:"#fff"}},39:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(24),o=n.n(r),i=(n(53),n(54),n(15)),s=n.n(i),l=n(25),u=n(11),d=n(12),f=n(27),j=(n(57),n(58),n(70)),b=n(71),p=n(1),h=function(e){var t=e.setLocation,n=e.setValue;function a(e){return c.apply(this,arguments)}function c(){return(c=Object(l.a)(s.a.mark((function e(a){var c,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[a.coords.latitude,a.coords.longitude],r=c[0],o=c[1],e.next=3,Object(f.b)({lat:r,lng:o}).then((function(e){return e.filter((function(e){return"postal_code"===e.types[0]}))})).then((function(e){return e[0].formatted_address.split(", ")})).then((function(e){return"".concat(e[0],", ").concat(e[1])}));case 3:e.sent,t({lat:r,lng:o}),n("Current Location");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return navigator.geolocation?Object(p.jsx)(j.a,{size:"middle",className:"location-btn",shape:"circle",icon:Object(p.jsx)(b.a,{}),onClick:function(){navigator.geolocation.getCurrentPosition(a)}}):null},m=function(e){var t=e.setLocation,n=Object(a.useState)("Location"),c=Object(u.a)(n,2),r=c[0],o=c[1],i=function(){var e=Object(l.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,Object(f.c)(n.value.place_id).then((function(e){return Object(f.d)(e[0])})).then((function(e){var n=e.lat,a=e.lng;return t({lat:n,lng:a})}));case 3:a=n.value.terms[1]?"".concat(n.value.terms[0].value,", ").concat(n.value.terms[1].value):"".concat(n.value.terms[0].value),o(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j={placeholder:r,noOptionsMessage:function(){return"No Results Found"},components:{IndicatorSeparator:function(){return null},DropdownIndicator:function(){return null}},styles:{style:{input:function(e){return Object(d.a)(Object(d.a)({},e),{},{width:"75%"})}}},className:"location-select-input",classNamePrefix:"location-select-input",label:r,value:r,onSelect:i,onChange:i};return Object(p.jsxs)("div",{className:"location-container",children:[Object(p.jsx)(f.a,{apiKey:"AIzaSyCN72ZHM9j72VKxjk5i-9_AZXS9JqkKWok",debounce:1500,selectProps:Object(d.a)({},j)}),Object(p.jsx)(h,{setValue:o,setLocation:t})]})},O=(n(39),n(61),function(e){var t=e.iconId,n=e.iconClass,a="owi owi-".concat(t," ").concat(n);return Object(p.jsx)("i",{className:a})}),v=function(e){var t=e.humidityPercentage,n=e.big?"big":"small";return Object(p.jsxs)("div",{className:"humidity-container ".concat(n),children:[Object(p.jsx)("span",{className:"humidity-text ".concat(n),children:"Humidity"}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{className:"humidity-percentage ".concat(n),children:"".concat(t,"%")})]})},x=function(e){var t=e.windSpeed;return Object(p.jsxs)("div",{className:"windspeed-container ",children:[Object(p.jsx)("span",{className:"windspeed-text ",children:"Wind Speed"}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{className:"windspeed-value ",children:"".concat(t.toFixed(1)," km/h")})]})},g=n(28),y=n.n(g),w=n(47),N=n.n(w),k=function(e){var t=e.secondsOffset;y.a.extend(N.a);var n=Object(a.useState)(y.a.utc()),c=Object(u.a)(n,2),r=c[0],o=c[1];Object(a.useEffect)((function(){var e=setInterval((function(){o(y.a.utc())}),1e3);return function(){return clearInterval(e)}}),[]);var i="".concat(r.utcOffset(t/60).format("hh:mm a, dddd, MMM DD, YYYY"));return Object(p.jsx)("span",{className:"date-time-text date-time-container",children:i})},C=(n(62),function(e){var t=e.weather,n=e.timezoneOffset;return Object(p.jsxs)("div",{className:"weather-card-big",children:[Object(p.jsx)(k,{className:"date-time-container",secondsOffset:n}),Object(p.jsx)(O,{iconClass:"wi-main",iconId:t.weather[0].icon}),Object(p.jsx)("span",{className:"temp-display",children:"".concat((t.temp-273.15).toFixed(1)," \xb0C")}),Object(p.jsx)("span",{className:"current-weather-display",children:t.weather[0].main}),Object(p.jsx)(v,{humidityPercentage:t.humidity}),Object(p.jsx)(x,{windSpeed:3.6*t.wind_speed})]})}),S=function(e){var t=e.setLocation,n=e.currentWeather,a=e.timezoneOffset;return Object(p.jsxs)("div",{className:"left-pane-container",children:[Object(p.jsx)(m,{setLocation:t}),n?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C,{weather:n,timezoneOffset:a})}):""]})},D=n(8),I=n(38),M=n(22),B=n.n(M),F={borderCapStyle:"round",borderColor:B.a.strongBlue,borderWidth:2,tension:.4,hoverBorderWidth:3,hoverRadius:6,hoverBorderColor:B.a.white,pointBorderWidth:0,pointBackgroundColor:"rgba(0, 0, 0, 0)",hoverBackgroundColor:B.a.strongBlue},P=function(e){var t=e.temperatures,n=e.selectedDay,c=Object(a.useRef)(null),r=I.a.registry.getPlugin("tooltip");r.positioners.top=function(e){var t=r.positioners.average(e),n=e[0].element.$context.raw;return!1!==t&&{x:t.x,y:n>0?t.y-30:t.y+30}};var o={labels:["Day 1","Day 2","Day 3","Day 4"],datasets:[{data:t,fill:{target:"origin",above:B.a.blue,below:B.a.blue}}]},i=Object(d.a)(Object(d.a)({},F),{},{events:[],scales:{y:{display:!1,ticks:{display:!1},min:t?Math.min.apply(Math,Object(D.a)(t))-10:0,max:t?Math.max.apply(Math,Object(D.a)(t))+10:50},x:{ticks:{display:!1},display:!1}},plugins:{legend:{display:!1},tooltip:{position:"top",backgroundColor:"transparent",displayColors:!1,bodyFontSize:32,bodyColor:B.a.strongBlue,bodyFont:{weight:"bold",size:22,family:"Open Sans, sans-serif"},callbacks:{title:function(){return""},label:function(e){return"".concat(t[e.dataIndex].toFixed(1)," \u02da\u1d9c")}}}}});return Object(a.useEffect)((function(){var e;e=n,c&&c.current&&t&&(c.current.setActiveElements([{datasetIndex:0,index:e}]),c.current.tooltip.setActiveElements([{datasetIndex:0,index:e}]),c.current.tooltip.update())}),[n,t]),Object(p.jsxs)("div",{className:"weather-chart-container",children:[Object(p.jsx)("p",{className:"temperature-chart-title",children:"Average Temperature"}),Object(p.jsx)(I.b,{data:o,ref:c,options:i,height:"120px"})]})},L=(n(63),n(64),function(e){var t=e.forecast,n=e.dayOffset,a=e.handleClick;return Object(p.jsxs)("button",{type:"button",className:"weather-card-small",onClick:function(){return a(n)},children:[Object(p.jsx)("span",{className:"weather-card-small-day",children:0===n?"Today":"".concat(y()().add(n,"day").format("MMM DD"))}),Object(p.jsx)(O,{iconId:t.weather[0].icon}),Object(p.jsx)(v,{humidityPercentage:t.humidity})]})}),z=function(e){var t=e.dailyWeather,n=Object(a.useState)(0),c=Object(u.a)(n,2),r=c[0],o=c[1],i=null===t||void 0===t?void 0:t.slice(0,4),s=null===i||void 0===i?void 0:i.map((function(e){return e.temp.day-273.15})),l=function(e){o(e)};return Object(p.jsxs)("div",{className:"right-pane-container",children:[Object(p.jsx)(P,{temperatures:s,selectedDay:r}),Object(p.jsx)("div",{className:"small-cards-container",children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(p.jsx)(L,{forecast:e,dayOffset:t,handleClick:l})}))})]})},W=(n(65),function(){var e=Object(a.useState)({lat:0,lng:0}),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),o=Object(u.a)(r,2),i=o[0],d=o[1],f="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(n.lat.toPrecision(4),"&lon=").concat(n.lng.toPrecision(4),"&exclude=minutely,hourly,alerts&appid=").concat("2cda4c5eeb60fc8981e9c378d9d83cdd"),j=function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.lat&&!n.lng){e.next=3;break}return e.next=3,fetch(f).then((function(e){return e.ok||console.log("Did not get an ok. got: ".concat(e.statusText)),e.json()})).then((function(e){return d(e)})).catch((function(e){console.log("Error getting weather data: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[f]),Object(p.jsxs)("div",{className:"weather-forecast-container",children:[Object(p.jsx)(S,{currentWeather:null===i||void 0===i?void 0:i.current,timezoneOffset:null===i||void 0===i?void 0:i.timezone_offset,location:n,setLocation:c}),Object(p.jsx)(z,{dailyWeather:null===i||void 0===i?void 0:i.daily})]})});var E=function(){return Object(p.jsx)("div",{className:"app-container",children:Object(p.jsx)(W,{})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,72)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),_()}},[[66,1,2]]]);
//# sourceMappingURL=main.e0d56832.chunk.js.map